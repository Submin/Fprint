<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>libfprint: Image operations</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libfprint
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Image operations</div>  </div>
</div><!--header-->
<div class="contents">

<p>libfprint offers several ways of retrieving images from imaging devices, one example being the <a class="el" href="group__dev.html#ga5e165794a86388ef4697265c376ecd4f" title="Captures an image from a device. ">fp_dev_img_capture()</a> function.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structfp__minutia.html">fp_minutia</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga18dcdd8c27abc8980e4fb9775e84da35"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__img.html#ga18dcdd8c27abc8980e4fb9775e84da35">fp_img_free</a> (struct fp_img *img)</td></tr>
<tr class="memdesc:ga18dcdd8c27abc8980e4fb9775e84da35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees an image.  <a href="#ga18dcdd8c27abc8980e4fb9775e84da35">More...</a><br/></td></tr>
<tr class="separator:ga18dcdd8c27abc8980e4fb9775e84da35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga243dd89512cf44189fd5a9a63da53153"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__img.html#ga243dd89512cf44189fd5a9a63da53153">fp_img_get_height</a> (struct fp_img *img)</td></tr>
<tr class="memdesc:ga243dd89512cf44189fd5a9a63da53153"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the pixel height of an image.  <a href="#ga243dd89512cf44189fd5a9a63da53153">More...</a><br/></td></tr>
<tr class="separator:ga243dd89512cf44189fd5a9a63da53153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8481ce980f6cd9ed3c22e407f342a039"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__img.html#ga8481ce980f6cd9ed3c22e407f342a039">fp_img_get_width</a> (struct fp_img *img)</td></tr>
<tr class="memdesc:ga8481ce980f6cd9ed3c22e407f342a039"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the pixel width of an image.  <a href="#ga8481ce980f6cd9ed3c22e407f342a039">More...</a><br/></td></tr>
<tr class="separator:ga8481ce980f6cd9ed3c22e407f342a039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga29904671177c5860af01a98dda91c8d6"><td class="memItemLeft" align="right" valign="top">unsigned char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__img.html#ga29904671177c5860af01a98dda91c8d6">fp_img_get_data</a> (struct fp_img *img)</td></tr>
<tr class="memdesc:ga29904671177c5860af01a98dda91c8d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the greyscale data for an image.  <a href="#ga29904671177c5860af01a98dda91c8d6">More...</a><br/></td></tr>
<tr class="separator:ga29904671177c5860af01a98dda91c8d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga42878cabc584c56a5f225d5340319dfa"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__img.html#ga42878cabc584c56a5f225d5340319dfa">fp_img_save_to_file</a> (struct fp_img *img, char *path)</td></tr>
<tr class="memdesc:ga42878cabc584c56a5f225d5340319dfa"><td class="mdescLeft">&#160;</td><td class="mdescRight">A quick convenience function to save an image to a file in <a href="http://netpbm.sourceforge.net/doc/pgm.html">PGM format</a>.  <a href="#ga42878cabc584c56a5f225d5340319dfa">More...</a><br/></td></tr>
<tr class="separator:ga42878cabc584c56a5f225d5340319dfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b3b9e9043c3534b31622723f9e32a85"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__img.html#ga4b3b9e9043c3534b31622723f9e32a85">fp_img_standardize</a> (struct fp_img *img)</td></tr>
<tr class="memdesc:ga4b3b9e9043c3534b31622723f9e32a85"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="group__img.html#img_std">Standardizes</a> an image by normalizing its orientation, colors, etc.  <a href="#ga4b3b9e9043c3534b31622723f9e32a85">More...</a><br/></td></tr>
<tr class="separator:ga4b3b9e9043c3534b31622723f9e32a85"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4c4515b326b9893b9c3dc87c6c4e30d8"><td class="memItemLeft" align="right" valign="top">struct fp_img *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__img.html#ga4c4515b326b9893b9c3dc87c6c4e30d8">fp_img_binarize</a> (struct fp_img *img)</td></tr>
<tr class="memdesc:ga4c4515b326b9893b9c3dc87c6c4e30d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a binarized form of a standardized scanned image.  <a href="#ga4c4515b326b9893b9c3dc87c6c4e30d8">More...</a><br/></td></tr>
<tr class="separator:ga4c4515b326b9893b9c3dc87c6c4e30d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab45fcd7736793a56a8be9d78a6267796"><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structfp__minutia.html">fp_minutia</a> **&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__img.html#gab45fcd7736793a56a8be9d78a6267796">fp_img_get_minutiae</a> (struct fp_img *img, int *nr_minutiae)</td></tr>
<tr class="memdesc:gab45fcd7736793a56a8be9d78a6267796"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of minutiae detected in an image.  <a href="#gab45fcd7736793a56a8be9d78a6267796">More...</a><br/></td></tr>
<tr class="separator:gab45fcd7736793a56a8be9d78a6267796"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>libfprint offers several ways of retrieving images from imaging devices, one example being the <a class="el" href="group__dev.html#ga5e165794a86388ef4697265c376ecd4f" title="Captures an image from a device. ">fp_dev_img_capture()</a> function. </p>
<p>The functions documented below allow you to work with such images.</p>
<h1><a class="anchor" id="img_fmt"></a>
Image format</h1>
<p>All images are represented as 8-bit greyscale data.</p>
<h1><a class="anchor" id="img_std"></a>
Image standardization</h1>
<p>In some contexts, images you are provided through libfprint are raw images from the hardware. The orientation of these varies from device-to-device, as does the color scheme (black-on-white or white-on-black?). libfprint provides the fp_img_standardize function to convert images into standard form, which is defined to be: finger flesh as black on white surroundings, natural upright orientation. </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga18dcdd8c27abc8980e4fb9775e84da35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fp_img_free </td>
          <td>(</td>
          <td class="paramtype">struct fp_img *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees an image. </p>
<p>Must be called when you are finished working with an image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>the image to destroy. If NULL, function simply returns. </td></tr>
  </table>
  </dd>
</dl>

<p>Referenced by <a class="el" href="group__dev.html#ga5e165794a86388ef4697265c376ecd4f">fp_dev_img_capture()</a>, <a class="el" href="group__dev.html#gae8f36a456208018fe2aa53fa44979e3f">fp_enroll_finger_img()</a>, <a class="el" href="group__dev.html#ga65d5a34cf824ef2225f93a5742d2c2f6">fp_identify_finger_img()</a>, and <a class="el" href="group__dev.html#ga267c6b214779a7d1bfbc722b6094ef20">fp_verify_finger_img()</a>.</p>

</div>
</div>
<a class="anchor" id="ga243dd89512cf44189fd5a9a63da53153"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fp_img_get_height </td>
          <td>(</td>
          <td class="paramtype">struct fp_img *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the pixel height of an image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>an image </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the height of the image </dd></dl>

</div>
</div>
<a class="anchor" id="ga8481ce980f6cd9ed3c22e407f342a039"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fp_img_get_width </td>
          <td>(</td>
          <td class="paramtype">struct fp_img *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the pixel width of an image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>an image </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the width of the image </dd></dl>

</div>
</div>
<a class="anchor" id="ga29904671177c5860af01a98dda91c8d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char* fp_img_get_data </td>
          <td>(</td>
          <td class="paramtype">struct fp_img *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the greyscale data for an image. </p>
<p>This data must not be modified or freed, and must not be used after <a class="el" href="group__img.html#ga18dcdd8c27abc8980e4fb9775e84da35" title="Frees an image. ">fp_img_free()</a> has been called. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>an image </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to libfprint's internal data for the image </dd></dl>

</div>
</div>
<a class="anchor" id="ga42878cabc584c56a5f225d5340319dfa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fp_img_save_to_file </td>
          <td>(</td>
          <td class="paramtype">struct fp_img *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A quick convenience function to save an image to a file in <a href="http://netpbm.sourceforge.net/doc/pgm.html">PGM format</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>the image to save </td></tr>
    <tr><td class="paramname">path</td><td>the path to save the image. Existing files will be overwritten. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success, non-zero on error. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4b3b9e9043c3534b31622723f9e32a85"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fp_img_standardize </td>
          <td>(</td>
          <td class="paramtype">struct fp_img *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="group__img.html#img_std">Standardizes</a> an image by normalizing its orientation, colors, etc. </p>
<p>It is safe to call this multiple times on an image, libfprint keeps track of the work it needs to do to make an image standard and will not perform these operations more than once for a given image. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>the image to standardize </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga4c4515b326b9893b9c3dc87c6c4e30d8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct fp_img* fp_img_binarize </td>
          <td>(</td>
          <td class="paramtype">struct fp_img *&#160;</td>
          <td class="paramname"><em>img</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a binarized form of a standardized scanned image. </p>
<p>This is where the fingerprint image has been "enhanced" and is a set of pure black ridges on a pure white background. Internally, image processing happens on top of the binarized image.</p>
<p>The image must have been <a class="el" href="group__img.html#img_std">standardized</a> otherwise this function will fail.</p>
<p>It is safe to binarize an image and free the original while continuing to use the binarized version.</p>
<p>You cannot binarize an image twice.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>a standardized image </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a new image representing the binarized form of the original, or NULL on error. Must be freed with <a class="el" href="group__img.html#ga18dcdd8c27abc8980e4fb9775e84da35" title="Frees an image. ">fp_img_free()</a> after use. </dd></dl>

</div>
</div>
<a class="anchor" id="gab45fcd7736793a56a8be9d78a6267796"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structfp__minutia.html">fp_minutia</a>** fp_img_get_minutiae </td>
          <td>(</td>
          <td class="paramtype">struct fp_img *&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nr_minutiae</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a list of minutiae detected in an image. </p>
<p>A minutia point is a feature detected on a fingerprint, typically where ridges end or split. libfprint's image processing code relies upon comparing sets of minutiae, so accurate placement of minutia points is critical for good imaging performance.</p>
<p>The image must have been <a class="el" href="group__img.html#img_std">standardized</a> otherwise this function will fail.</p>
<p>You cannot pass a binarized image to this function. Instead, pass the original image.</p>
<p>Returns a list of pointers to minutiae, where the list is of length indicated in the nr_minutiae output parameter. The returned list is only valid while the parent image has not been freed, and the minutiae data must not be modified or freed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>a standardized image </td></tr>
    <tr><td class="paramname">nr_minutiae</td><td>an output location to store minutiae list length </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a list of minutiae points. Must not be modified or freed. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jun 25 2015 20:03:14 for libfprint by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
